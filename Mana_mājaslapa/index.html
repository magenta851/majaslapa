<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mājas lapa</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="header">
        <h1 style="font-size:300%;">Planētas</h1>

        <canvas id="Galcta" width=500 height=500 style="border:1px solid">  </canvas> 
<script>

 var ctx = Galcta.getContext("2d");

 function MyKeyDownHandler (MyEvent) { 
   if (MyEvent.keyCode == 37 && Earth_x > 0) {Earth_x = Earth_x - 10};  
   if (MyEvent.keyCode == 39 && Earth_x+EarthImg.width < Galcta.width)
            {Earth_x = Earth_x+10}; //kustības
   }

 addEventListener("keydown", MyKeyDownHandler); 

 var Earth_x = 0;
 var Earth_y = 0;
 var EarthImg = new Image();
 EarthImg.src = "earth.png"; //pasaules bilde

 var Rock_x = 0;
 var Rock_y = 0;
 var RockImg = new Image();
 RockImg.src = "rock.png"; //akmeņa bilde

 var score = 0;

 function ImagesTouching(x1, y1, img1, x2, y2, img2) {
          if (x1 >= x2+img2.width || x1+img1.width <= x2) return false;   //ja bildes ir pārāk tāli no viensotra tad neskaras
          if (y1 >= y2+img2.height || y1+img1.height <= y2) return false; //ja bildes ir pārāk augsti vai pārāk zemi viens otra tad neskaras
          return true;                                                    //ja abi ir nepatiesi tad skaras
          }
 var time_remaining = 20; //laiks atlicies


 function Do_a_Frame () {
    ctx.clearRect(0, 0, Galcta.width, Galcta.height); 

    ctx.fillStyle= "purple";
    ctx.font = "20px Arial";
    ctx.fillText("Score: " + score, 0, 20); //punktu skaits teksts
    
       Earth_y = Galcta.height - EarthImg.height;
    ctx.drawImage(EarthImg, Earth_x, Earth_y); //zīmē pasaules zīmējumu

    Earth_y = Galcta.height - EarthImg.height;
    ctx.fillText("Time Remaining: " + Math.round(time_remaining), 0, 45); //laiks atlicis teksts

    if (time_remaining <= 0) {
          ctx.fillStyle= "red"; //beigas texts lai ir centrā
          ctx.font = "bold 50px Arial";
          ctx.textAlign="center"; //beigas texts lai ir centrā
          ctx.fillText("Game Over", Galcta.width / 2, Galcta.height / 2); //spēles beigas teksts
          ctx.textAlign="left";
          }
    else {
          time_remaining = time_remaining - 1/40;

          Rock_y = Rock_y + 3; //akmeņa kritums
          if (Rock_y > Galcta.height) {
              Rock_y= 0;
              Rock_x= Math.random() * (Galcta.width - RockImg.width);
              }   
          }
    ctx.drawImage(RockImg, Rock_x, Rock_y); //zīmē akmeņa bildi

    if (ImagesTouching(Earth_x, Earth_y, EarthImg, Rock_x, Rock_y, RockImg)) {
        score= score + 1; //ja bildes skaras kopā tad ir plus 1 punkts
        Rock_x= -RockImg.width;
        }
    } 
    setInterval(Do_a_Frame, 25); //likts laiks kad kautkas notiek

</script>

    </div>
    <div class="container">
        <img src="merc.png.png" alt="merc">
         <br>
         <img src="venus.png" alt="venus">
         <br>
        <img src="world.png" alt="earth">
    </div>
    <div class="footer">
        
    </div>

</body>
</html>